<!DOCTYPE html>
<html lang="en">
 <head>
  <!-- Core -->
  <meta charset="UTF-8" />
  
  <!-- SSR/Pre-render Helmet Placeholders: These are replaced during build with actual page-specific SEO -->
  <!--helmet-title-->
  <!--helmet-meta-->
  <!--helmet-link-->
  <!--helmet-script-->

  <!-- 
    PERFORMANCE OPTIMIZATION: Connection preloading strategy
    - dns-prefetch: For domains used later (low priority)
    - preconnect: For critical early connections (high priority)
    
    Critical preconnects (limit to 4 most important):
    1. Supabase: Primary API for initial data (~300ms LCP savings per PageSpeed)
    2. Google Tag Manager: Analytics infrastructure
    3. Google Analytics: Event collection
    4. Mapbox: Map visualization (if used above fold)
    
    Note: Preconnects perform DNS lookup + TCP handshake + TLS negotiation upfront
  -->
  <link rel="dns-prefetch" href="//tools.tailwaggingwebdesign.com" />
  <link rel="dns-prefetch" href="//bookings.tailwaggingwebdesign.com" />
  <link rel="dns-prefetch" href="//globalbill.tailwaggingwebdesign.com" />
  <!-- Critical origin preconnects (saves ~300-500ms on first request) -->
  <link rel="preconnect" href="https://viwxxjnehceedyctevau.supabase.co" crossorigin />
  <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin />
  <link rel="preconnect" href="https://www.google-analytics.com" crossorigin />
  <link rel="preconnect" href="https://api.mapbox.com" crossorigin />
  <!-- 
    REMOVED: Hero image preload (hero-2400.jpg was causing 404 errors)
    Images are loaded on-demand via React components instead
  -->

  <!-- 
    PERFORMANCE OPTIMIZATION: Analytics deferred to avoid blocking LCP
    - gtag.js loads async (non-blocking)
    - Config initialization deferred until after page interactive
    - This removes GA from critical request chain (saves ~300-500ms on LCP)
  -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-VBQBZ0ZDWQ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    // Defer GA initialization until after page load to avoid blocking LCP
    if (document.readyState === 'complete') {
      gtag('js', new Date());
      gtag('config', 'G-VBQBZ0ZDWQ', { anonymize_ip: true });
    } else {
      window.addEventListener('load', function() {
        gtag('js', new Date());
        gtag('config', 'G-VBQBZ0ZDWQ', { anonymize_ip: true });
      });
    }
  </script>

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Organization",
        "@id": "https://tailwaggingwebdesign.com/#org",
        "name": "Tail Wagging Websites Factory Northampton",
        "url": "https://tailwaggingwebdesign.com/",
        "logo": {
          "@type": "ImageObject",
          "url": "https://tailwaggingwebdesign.com/og.png",
          "width": 1200,
          "height": 630
        },
        "telephone": "+447402342694",
        "sameAs": [
          "https://www.instagram.com/tailwaggingwebdesigns/",
          "https://www.tiktok.com/@tailwaggingwebdesigns",
          "https://www.linkedin.com/in/john-haastrup/"
        ],
        "contactPoint": [{
          "@type": "ContactPoint",
          "telephone": "+447402342694",
          "contactType": "sales",
          "availableLanguage": ["English"],
          "areaServed": "GB"
        }]
      },
      {
        "@type": "WebSite",
        "@id": "https://tailwaggingwebdesign.com/#website",
        "url": "https://tailwaggingwebdesign.com/",
        "name": "Tail Wagging Websites Factory Northampton",
        "publisher": { "@id": "https://tailwaggingwebdesign.com/#org" },
        "inLanguage": "en-GB",
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://tailwaggingwebdesign.com/search?q={query}",
          "query-input": "required name=query"
        }
      },
      {
        "@type": "ProfessionalService",
        "@id": "https://tailwaggingwebdesign.com/#local",
        "name": "Pet Web Design & Automations – Tail Wagging Websites Factory Northampton",
        "url": "https://tailwaggingwebdesign.com/",
        "image": {
          "@type": "ImageObject",
          "url": "https://tailwaggingwebdesign.com/og.png",
          "width": 1200,
          "height": 630
        },
        "telephone": "+447402342694",
        "priceRange": "££",
        "areaServed": [
          "Northampton","Wellingborough","Kettering","Daventry","Towcester",
          "Rushden","Corby","Milton Keynes","Banbury","Northamptonshire"
        ],
        "address": {
          "@type": "PostalAddress",
          "addressCountry": "GB",
          "addressRegion": "Northamptonshire",
          "addressLocality": "Northampton"
        },
        "potentialAction": [
          { "@type": "ContactAction", "target": "https://tailwaggingwebdesign.com/contact", "name": "Request a quote" },
          { "@type": "ScheduleAction", "target": "https://calendly.com/coffee-chat-with-ayobami-haastrup/consultation-call", "name": "Book a consultation" }
        ]
      },
      {
        "@type": "WebPage",
        "@id": "https://tailwaggingwebdesign.com/#webpage",
        "url": "https://tailwaggingwebdesign.com/",
        "name": "Pet Care Web Design in Northampton",
        "description": "Mobile-first websites and automations for dog walkers, groomers, sitters and trainers.",
        "isPartOf": { "@id": "https://tailwaggingwebdesign.com/#website" },
        "inLanguage": "en-GB",
        "primaryImageOfPage": { "@id": "https://tailwaggingwebdesign.com/#primary-image" },
        "breadcrumb": {
          "@type": "BreadcrumbList",
          "itemListElement": [
            { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://tailwaggingwebdesign.com/" }
          ]
        }
      },
      {
        "@type": "ImageObject",
        "@id": "https://tailwaggingwebdesign.com/#primary-image",
        "url": "https://tailwaggingwebdesign.com/og.png",
        "width": 1200,
        "height": 630
      },
      {
        "@type": "HowTo",
        "@id": "https://tailwaggingwebdesign.com/#how-it-works",
        "name": "How it works",
        "description": "Three simple steps from discovery to launch.",
        "step": [
          { "@type": "HowToStep", "name": "Discover", "text": "A short call to map goals, audience, and must-have features." },
          { "@type": "HowToStep", "name": "Build", "text": "Mobile-first design, copywriting, and technical setup." },
          { "@type": "HowToStep", "name": "Launch & grow", "text": "SEO basics, analytics, and optional care plan with updates." }
        ]
      }
    ]
  }
  </script>

  <!-- Critical, above-the-fold CSS (keep minimal) -->
  <style>
    :root { color-scheme: light dark; }
    body { margin:0; font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Noto Sans, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
    header[role="banner"]{ position:sticky; top:0; z-index:50; backdrop-filter:saturate(180%) blur(8px); background-color: rgba(255,255,255,0.75);}
    @media (prefers-color-scheme: dark){ header[role="banner"]{ background-color: rgba(20,23,28,0.6);} }
    .hero{ padding: 2rem 1rem; max-width: 72rem; margin: 0 auto; }
    .spinner { width: 32px; height: 32px; border: 2px solid #3b82f6; border-top: 2px solid transparent; border-radius: 50%; animation: spin 1s linear infinite; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
  </style>
</head>

 <body>
  <div id="root"><!--app-html--></div>
  <script type="module" src="/src/entry-client.tsx"></script>
 </body>
</html>
